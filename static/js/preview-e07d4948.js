import{i as k}from"./@vueuse.core-2f0af90d.js";import"./index-f2a88b9d.js";import"./store-2b1fd532.js";import{u as w}from"./index-162287ac.js";import{n as N,w as S}from"./lodash-es-d2af5045.js";import{a as O}from"./element-plus-e43e0101.js";import{d as v,W as n,o as j,I as B,J as m,b as s,N as f,G as J,n as T}from"./@vue.runtime-core-3a9e54b6.js";import{r as d,u as U}from"./@vue.reactivity-747ae439.js";import"./@vueuse.shared-8ce56883.js";import"./@vue.runtime-dom-7b7b8a44.js";import"./@vue.shared-9aa0355e.js";import"./monaco-editor-9c9b0ff9.js";import"./axios-aba6f0e0.js";import"./nprogress-f3b783e1.js";import"./dayjs-7a1ede46.js";import"./mitt-b509fb6d.js";import"./vue-router-19ed6b98.js";import"./pinia-9e37763f.js";import"./vue-demi-71ba0ef2.js";import"./vue-echarts-f1c2bb29.js";import"./resize-detector-a5205554.js";import"./echarts-be9a7bef.js";import"./tslib-54e39b60.js";import"./zrender-3d337fab.js";import"./mockjs-96a45e78.js";import"./vue-70666ebd.js";import"./@element-plus.icons-vue-e3809a99.js";import"./@popperjs.core-c75af06c.js";import"./@ctrl.tinycolor-f8748455.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-1d60d822.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui.dom-7994f002.js";import"./@floating-ui.core-614032f8.js";const h=v({name:"cl-editor-preview"}),_o=v({...h,props:{title:{type:String,default:"文本预览"},name:{type:String,required:!0},props:Object},setup(p,{expose:_}){const a=p,{refs:g,setRefs:C}=w(),{copy:V}=k(),r=d(!1),t=d("");async function b(e){var o,i;N(e)&&(t.value=e),S(e)&&(t.value=JSON.stringify(e,null,4)),r.value=!0,await T(),a.name=="monaco"&&((i=(o=g.editor)==null?void 0:o.formatCode)==null||i.call(o))}function u(){r.value=!1}function x(){V(t.value),O.success("复制成功")}return _({open:b,close:u}),(e,o)=>{const i=n("cl-editor"),c=n("el-button"),y=n("cl-dialog");return j(),B(y,{width:"1000px",title:p.title,modelValue:r.value,"onUpdate:modelValue":o[1]||(o[1]=l=>r.value=l)},{footer:m(()=>[s(c,{onClick:u},{default:m(()=>[f("关闭")]),_:1}),s(c,{type:"success",onClick:x},{default:m(()=>[f("复制")]),_:1})]),default:m(()=>[s(i,J({name:`cl-editor-${p.name}`,ref:U(C)("editor"),height:600},a.props,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=l=>t.value=l)}),null,16,["name","modelValue"])]),_:1},8,["title","modelValue"])}}});export{_o as default};
