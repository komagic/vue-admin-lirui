import{d as _}from"./@vue.runtime-dom-7b7b8a44.js";import{_ as C}from"./logo-5b4cc875.js";import{u as V}from"./index-c663178e.js";import"./store-2b1fd532.js";import{u as B}from"./index-a427384e.js";import{a as n}from"./element-plus-e43e0101.js";import{d as f,W as l,o as I,c as N,a as o,b as i,J as p,K as u,N as S,am as T,al as D}from"./@vue.runtime-core-3a9e54b6.js";import{r as E,j as L,u as M}from"./@vue.reactivity-747ae439.js";import{O as U}from"./@vue.shared-9aa0355e.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";import"./monaco-editor-b2c0bceb.js";import"./axios-aba6f0e0.js";import"./nprogress-f3b783e1.js";import"./dayjs-7a1ede46.js";import"./lodash-es-d2af5045.js";import"./@vueuse.core-2f0af90d.js";import"./@vueuse.shared-8ce56883.js";import"./mitt-b509fb6d.js";import"./vue-router-19ed6b98.js";import"./pinia-9e37763f.js";import"./vue-demi-71ba0ef2.js";import"./vue-echarts-f1c2bb29.js";import"./resize-detector-a5205554.js";import"./echarts-be9a7bef.js";import"./tslib-54e39b60.js";import"./zrender-3d337fab.js";import"./mockjs-96a45e78.js";import"./vue-70666ebd.js";import"./@element-plus.icons-vue-e3809a99.js";import"./@popperjs.core-c75af06c.js";import"./@ctrl.tinycolor-f8748455.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-1d60d822.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui.dom-7994f002.js";import"./@floating-ui.core-614032f8.js";const v=s=>(T("data-v-fb4217db"),s=s(),D(),s),J={class:"page-login"},K={class:"box"},O={class:"logo"},P=v(()=>o("img",{src:C,alt:"Logo"},null,-1)),R=v(()=>o("p",{class:"desc"},"一款快速开发后台权限管理系统",-1)),W={class:"op"},q=f({name:"login"}),z=f({...q,setup(s){const{refs:g,setRefs:A,router:h,service:b}=B(),{user:x,app:d}=V(),r=E(!1),e=L({username:"",password:""});async function w(){if(!e.username)return n.error("用户名不能为空");if(!e.password)return n.error("密码不能为空");r.value=!0;try{await b.base.open.login(e).then(t=>{x.setToken(t)}),await Promise.all(d.events.hasToken.map(t=>t())),h.push("/")}catch(t){g.captcha.refresh(),n.error(t.message)}r.value=!1}return(t,a)=>{const c=l("el-form-item"),y=l("el-button"),k=l("el-form");return I(),N("div",J,[o("div",K,[o("div",O,[P,o("span",null,U(M(d).info.name),1)]),R,i(k,{"label-position":"top",class:"form",disabled:r.value},{default:p(()=>[i(c,{label:"用户名"},{default:p(()=>[u(o("input",{"onUpdate:modelValue":a[0]||(a[0]=m=>e.username=m),placeholder:"请输入用户名",maxlength:"20",autocomplete:"on"},null,512),[[_,e.username]])]),_:1}),i(c,{label:"密码"},{default:p(()=>[u(o("input",{"onUpdate:modelValue":a[1]||(a[1]=m=>e.password=m),type:"password",placeholder:"请输入密码",maxlength:"20",autocomplete:"off"},null,512),[[_,e.password]])]),_:1}),o("div",W,[i(y,{round:"",loading:r.value,onClick:w},{default:p(()=>[S("登录")]),_:1},8,["loading"])])]),_:1},8,["disabled"])])])}}});const To=j(z,[["__scopeId","data-v-fb4217db"]]);export{To as default};
