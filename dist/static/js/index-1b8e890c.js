import{s as v}from"./store-2b1fd532.js";import{d as y,q as C,e as V,n as B,W as r,o as b,c as k,b as s,J as n,N as d,a as g,F as x,U as A,I as D,am as E,al as I}from"./@vue.runtime-core-3a9e54b6.js";import{r as h}from"./@vue.reactivity-747ae439.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";import{O as S}from"./@vue.shared-9aa0355e.js";import"./dayjs-7a1ede46.js";const $=y({name:"cl-column-custom",props:{name:String,columns:{type:Array,required:!0,default:()=>[]}},setup(o){const t=h(!1),c=h([]),u=`column-custom__${o.name||location.pathname}`,p=C(()=>o.columns.filter(e=>!e.type&&e.prop).map(e=>({label:e.label,value:e.prop})));function m(){const e=v.get(u);return e||p.value.map(l=>l.value)}function a(){B(()=>{const e=m();v.get(u)&&o.columns.map(l=>{l.type||(l.hidden=!e.includes(l.prop))})})}function _(){v.set(u,c.value),a(),i()}function f(){c.value=m(),t.value=!0}function i(){t.value=!1}return V(()=>{a()}),{visible:t,list:p,selection:c,open:f,close:i,save:_}}});const w=o=>(E("data-v-a9f935e7"),o=o(),I(),o),F={class:"cl-column-custom__wrap"},U={class:"cl-column-custom__dialog"},q={class:"left"},T=w(()=>g("div",{class:"right"},null,-1));function J(o,t,c,u,p,m){const a=r("el-button"),_=r("el-checkbox"),f=r("el-checkbox-group"),i=r("cl-dialog");return b(),k("div",F,[s(a,{onClick:o.open},{default:n(()=>[d("自定义列")]),_:1},8,["onClick"]),s(i,{modelValue:o.visible,"onUpdate:modelValue":t[1]||(t[1]=e=>o.visible=e),title:"自定义列"},{footer:n(()=>[s(a,{onClick:o.close},{default:n(()=>[d("取消")]),_:1},8,["onClick"]),s(a,{type:"success",onClick:o.save},{default:n(()=>[d("保存")]),_:1},8,["onClick"])]),default:n(()=>[g("div",U,[g("div",q,[s(f,{modelValue:o.selection,"onUpdate:modelValue":t[0]||(t[0]=e=>o.selection=e)},{default:n(()=>[(b(!0),k(x,null,A(o.list,(e,l)=>(b(),D(_,{key:l,label:e.value},{default:n(()=>[d(S(e.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),T])]),_:1},8,["modelValue"])])}const G=N($,[["render",J],["__scopeId","data-v-a9f935e7"]]);export{G as default};
